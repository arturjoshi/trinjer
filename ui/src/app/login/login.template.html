<div class="dialog-wrp">
    <p class="dialog-title" md-dialog-title>Login</p>

    <form [formGroup]="loginForm" (ngSubmit)="login()">
        <md-input
                [(ngModel)]="user.username"
                formControlName="username"
                placeholder="Username"
                dividerColor="{{ !formErrors.username.valid ? 'warn' : 'primary' }}"
                autocomplete="off">
            <md-hint [hidden]="formErrors.username.valid">
                <span class="alert-danger" [hidden]="!loginForm.username.errors?.required || loginForm.username.untouched">Username is required</span>
            </md-hint>
        </md-input>

        <md-input [(ngModel)]="user.password"
                  formControlName="password"
                  type="password"
                  placeholder="Password"
                  name="password"
                  dividerColor="{{ !formErrors.password.valid ? 'warn' : 'primary' }}"
                  autocomplete="off">

            <md-hint [hidden]="password.valid">
                <span class="alert-danger" [hidden]="!loginForm.password.errors?.required || loginForm.password.untouched">Password is required</span>
            </md-hint>
        </md-input>

        <md-dialog-actions>
            <button type="submit" md-button>
                Login
                <md-spinner *ngIf="isLoginProcessed"></md-spinner>
            </button>
            <button md-button (click)="close()">Cancel</button>
        </md-dialog-actions>
    </form>
</div>